"use strict";(self.webpackChunkimage_gallery_client=self.webpackChunkimage_gallery_client||[]).push([[519],{2874:function(e,t,a){var r=a(184);t.Z=function(e){var t=e.onFileSelect;return(0,r.jsx)("div",{children:(0,r.jsx)("input",{className:"border border-gray-200 w-full rounded-md mb-3",type:"file",onChange:function(e){t(e.target.files[0])}})})}},6131:function(e,t,a){var r=a(9439),n=a(2791),l=a(2874),i=a(184);t.Z=function(e){var t=e.categoryData,a=e.submitFn,d=e.isUploadLoading,o=e.isUploadError,s=e.uploadError,c=e.method,u=e.imageData,m=(0,n.useState)(u?u.image.title:""),g=(0,r.Z)(m,2),x=g[0],p=g[1],f=(0,n.useState)(u?u.image.desc:""),h=(0,r.Z)(f,2),b=h[0],y=h[1],v=(0,n.useState)(u?u.image.category._id:""),j=(0,r.Z)(v,2),N=j[0],w=j[1],F=(0,n.useState)(null),S=(0,r.Z)(F,2),Z=S[0],C=S[1],_=(0,n.useState)(!1),k=(0,r.Z)(_,2),D=k[0],E=k[1];return(0,i.jsxs)("div",{className:"m-5 p-5 w-96 shadow-md shadow-gray-200",style:{fontFamily:"Quicksand"},children:[(0,i.jsxs)("h2",{className:"text-xl font-bold text-center",children:["create"===c?"Upload":"Edit"," your image"]}),d&&(0,i.jsx)("p",{className:"bg-green-200 mb-3 rounded text-center px-5",children:(0,i.jsx)("span",{className:"animate-pulsetacking-wider font-bold text-green-600 mb-3",children:"Photo Uploading ...."})}),o&&(0,i.jsx)("p",{className:"text-red-400 text-sm bg-red-100 px-3 py-1 rounded mb-3",children:null===s||void 0===s?void 0:s.info.message}),D&&(0,i.jsx)("p",{className:"text-red-400 text-sm bg-red-100 px-3 py-1 rounded mb-3",children:"Fill up all fields"}),(0,i.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==x&&""!==N&&""!==b){var t=new FormData;t.append("title",x),t.append("desc",b),t.append("category",N),"create"===c&&t.append("image",Z),a(t)}else E(!0)},children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("label",{htmlFor:"image-title",children:"Title"}),(0,i.jsx)("input",{className:"border border-gray-300 rounded-md px-3 py-1 w-full mb-3",type:"text",id:"image-title",value:x,onChange:function(e){return p(e.target.value)}})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("label",{htmlFor:"image-category",children:"Select Category"}),(0,i.jsxs)("select",{value:N,onChange:function(e){return w(e.target.value)},className:"border border-gray-300 rounded-md px-3 py-2 w-full mb-3 bg-white",name:"category",id:"image-category",children:[(0,i.jsx)("option",{value:"",children:"Select Category"}),t.map((function(e){return(0,i.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("label",{htmlFor:"image-desc",children:"Description"}),(0,i.jsx)("textarea",{className:"border border-gray-300 rounded-md px-3 py-1 w-full mb-3",type:"text",id:"image-desc",value:b,onChange:function(e){return y(e.target.value)}})]}),"create"===c&&(0,i.jsx)(l.Z,{onFileSelect:function(e){return C(e)}}),(0,i.jsx)("button",{type:"submit",className:"bg-orange-500 text-white rounded-md px-3 py-1",children:"create"===c?"Add Photo":"Edit Photo"})]})]})}},9519:function(e,t,a){a.r(t);var r=a(5439),n=a(6131),l=a(9645),i=a(184);t.default=function(){var e=(0,r.a)({queryKey:["categories"],queryFn:function(){return(0,l.pE)()}}),t=e.data;e.isError,e.error;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.Z,{categoryData:t,method:"create"})})}},5439:function(e,t,a){a.d(t,{a:function(){return i}});var r=a(3734),n=a(1135),l=a(8560);function i(e,t,a){var i=(0,r._v)(e,t,a);return(0,l.r)(i,n.z)}}}]);
//# sourceMappingURL=519.b8697d46.chunk.js.map